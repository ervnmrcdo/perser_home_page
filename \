<script>
	import ListItems from './ListItems.svelte';
	let { posts = [] } = $props();
</script>

<div class="latest-articles">
	<ul class="home-posts-list">
		{#each posts as post, index}
			{#if index < 5}
				{#if index == 0}
					<li class="initial-post">
						<div class="post-image">
							<article>
								<a href="/articles/{post.slug}">
									<img
										src={post.coverImage}
										alt=""
										width={post.coverWidth}
										height={post.coverHeight}
										style="ratio: {post.coverWidth} / {post.coverHeight}"
									/>
								</a>
							</article>
						</div>
						<div class="post-information">
							<a href="/articles/{post.slug}">
								<h2>
									{post.title}
									<br />
									<!-- {(new Date(post.date)).toDateString()} -->
								</h2>
							</a>
							<p class="author">
								by <ListItems items={post.author}></ListItems>
							</p>
							<p>{post.excerpt}</p>
							{#if post.categories}
								<aside class="post-footer">
									<ul class="post-footer__categories">
										{#each post.categories as category}
											<li>
												<a href="/articles/category/{category}/">
													{category}
												</a>
											</li>
										{/each}
									</ul>
								</aside>
							{/if}
						</div>
					</li>
					<hr class="solid" />
				{:else}
					<div class="article-container">
						<div class="">
							<li class="">
								<div class="post-image">
									<article>
										<a href="/articles/{post.slug}">
											<img
												src={post.coverImage}
												alt=""
												width={post.coverWidth}
												height={post.coverHeight}
												style="ratio: {post.coverWidth} / {post.coverHeight}"
											/>
											<h2>
												{post.title}
												<br />
												<!-- {(new Date(post.date)).toDateString()} -->
											</h2>
										</a>
									</article>
								</div>
								<div class="post-information">
									<p class="author">
										by <ListItems items={post.author}></ListItems>
									</p>
									<p>{post.excerpt}</p>
									{#if post.categories}
										<aside class="post-footer">
											<ul class="post-footer__categories">
												{#each post.categories as category}
													<li>
														<a href="/articles/category/{category}/">
															{category}
														</a>
													</li>
												{/each}
											</ul>
										</aside>
									{/if}
								</div>
							</li>
							<hr class="solid" />
						</div>
						<div class=""><p>hi</p></div>
						<div class=""><p>hi</p></div>
					</div>
				{/if}
			{/if}
		{/each}
	</ul>
</div>

<style>
	@import '../../../static/css/layout.css';
</style>
